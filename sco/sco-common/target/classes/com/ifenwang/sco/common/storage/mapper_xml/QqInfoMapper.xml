<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ifenwang.sco.common.storage.mapper.QqInfoMapper">
	
	<sql id="column">
		OPENID,
		NICKNAME,
		FIGUREURL,
		FIGUREURL1,
		FIGUREURL2,
		FIGUREQQURL,
		FIGUREQQURL2,
		GENDER,
		PROVINCE,
		CITY,
		TOKEN, 
		EXPIRESIN, 
		REFRESHTOKEN, 
		UPDATEDATE
	</sql>
	
	<insert id="save" parameterType="QqInfo">
		insert into TF_QQINFO (
			OPENID, 
			NICKNAME,
			FIGUREURL,
			FIGUREURL1,
			FIGUREURL2,
			FIGUREQQURL,
			FIGUREQQURL2,
			GENDER,
			PROVINCE,
			CITY,
			TOKEN, 
			EXPIRESIN, 
			REFRESHTOKEN, 
			UPDATEDATE
			)
		values (
			#{openId,		jdbcType=VARCHAR}, 
			#{nickName,		jdbcType=VARCHAR},
			#{figureUrl,	jdbcType=VARCHAR},
			#{figureUrl1,	jdbcType=VARCHAR},
			#{figureUrl2,	jdbcType=VARCHAR},
			#{figureQqUrl,	jdbcType=VARCHAR},
			#{figureQqUrl2,	jdbcType=VARCHAR},
			#{gender,		jdbcType=VARCHAR},
			#{province,		jdbcType=VARCHAR},
			#{city,			jdbcType=VARCHAR},
			#{token,		jdbcType=VARCHAR},
			#{expiresIn,	jdbcType=VARCHAR},
			#{refreshToken,	jdbcType=VARCHAR},
			#{updateDate,	jdbcType=DATE}
			)
	</insert>
	
	<update id="update" parameterType="QqInfo">
		update TF_QQINFO
		<set>
			<if test="nickName != null">
				NICKNAME = #{nickName,jdbcType=VARCHAR},
			</if>
			<if test="figureUrl != null">
				FIGUREURL = #{figureUrl,jdbcType=VARCHAR},
			</if>
			<if test="figureUrl1 != null">
				FIGUREURL1 = #{figureUrl1,jdbcType=VARCHAR},
			</if>
			<if test="figureUrl2 != null">
				FIGUREURL2 = #{figureUrl2,jdbcType=VARCHAR},
			</if>
			<if test="figureQqUrl != null">
				FIGUREQQURL = #{figureQqUrl,jdbcType=VARCHAR},
			</if>
			<if test="figureQqUrl2 != null">
				FIGUREQQURL2 = #{figureQqUrl2,jdbcType=VARCHAR},
			</if>
			<if test="gender != null">
				GENDER = #{gender,jdbcType=VARCHAR},
			</if>
			<if test="city != null">
				CITY = #{city,jdbcType=VARCHAR},
			</if>
			<if test="province != null">
				PROVINCE = #{province,jdbcType=VARCHAR},
			</if>
			<if test="token != null">
				TOKEN = #{token,jdbcType=VARCHAR},
			</if>
			<if test="expiresIn != null">
				EXPIRESIN = #{expiresIn,jdbcType=VARCHAR},
			</if>
			<if test="refreshToken != null">
				REFRESHTOKEN = #{refreshToken,jdbcType=VARCHAR},
			</if>
			<if test="updateDate != null">
				UPDATEDATE = #{updateDate,jdbcType=DATE},
			</if>
		</set>
		where OPENID = #{openId,jdbcType=VARCHAR}
	</update>
	
	<select id="queryByOpenId" resultType="QqInfo" parameterType="java.lang.String">
		select <include refid="column" /> from TF_QQINFO where OPENID = #{openId, jdbcType=VARCHAR}
	</select>
	
</mapper>